---
# =============================================================================
# Server Helper v0.4.0 — Global Variables (Example)
# =============================================================================
# Copy this file to all.yml and customize for your environment.
# See docs/wiki/03-configuration.md for detailed documentation.

# Domain & Network — REQUIRED: Change these for your environment
target_domain: "example.com"
target_control_ip: "192.168.1.10"
target_timezone: "America/Los_Angeles"

# DNS — upstream resolvers used before Pi-hole is active
target_dns:
  upstream_servers:
    - "1.1.1.1"
    - "8.8.8.8"
  search_domain: "{{ target_domain }}"

# Common packages — set to false to skip apt upgrade during deployment
common_upgrade_packages: true
common_microcode_enabled: true
common_sysctl_tuning: true

# Docker — logging and storage defaults
target_docker:
  log_driver: "json-file"
  log_max_size: "10m"
  log_max_file: "3"
  storage_driver: "overlay2"
  live_restore: true

# Docker stack path (must match Dockge config)
docker_stack_path: "/opt/stacks"

# Security — SSH, firewall, and intrusion prevention
target_security:
  ssh_hardening:
    permit_root_login: "no"
    password_authentication: "no"
    max_auth_tries: 3
    x11_forwarding: "no"
    allow_tcp_forwarding: "no"
    client_alive_interval: 300
    client_alive_count_max: 2
  fail2ban:
    enabled: true
    max_retry: 3
    ban_time: 86400
    find_time: 600
  ufw:
    enabled: true
    default_incoming: "deny"
    default_outgoing: "allow"
    allowed_ports:
      - { port: 22, proto: "tcp", comment: "SSH" }

# LVM — auto-extend logical volumes to use all free space
target_lvm_config:
  auto_extend_ubuntu: true

# Swap — size in GB (skipped on LXC containers)
swap_size_gb: 2

# Admin user — defaults to the SSH user
target_admin_user: "{{ ansible_user }}"
