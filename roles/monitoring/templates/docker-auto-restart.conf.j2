# Docker Service Auto-Restart Configuration
# Ensures Docker daemon restarts automatically on failure

[Service]
# Restart the service on failure
Restart=on-failure

# Wait 10 seconds before restarting
RestartSec=10

# Give up after 5 restart attempts within 100 seconds
StartLimitInterval=100
StartLimitBurst=5

# Send notification after restart
ExecStartPost=/bin/bash -c 'if [ -x /usr/local/bin/trigger-service-restart.sh ]; then echo "Docker service restarted" | logger -t docker-restart; fi'