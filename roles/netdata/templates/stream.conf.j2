# Netdata Child Streaming Configuration
# This node streams metrics to the parent at {{ control_node_ip }}:{{ control_netdata.port | default(19999) }}
# Generated by Server Helper

[stream]
    # Enable streaming to parent
    enabled = yes

    # Parent node destination
    destination = {{ control_node_ip }}:{{ control_netdata.port | default(19999) }}

    # API key must match the parent's stream.conf
    api key = {{ control_netdata.stream_api_key | default('11111111-2222-3333-4444-555555555555') }}

    # Timeout for connection to parent (in seconds)
    timeout seconds = 60

    # Buffer to use when sending data to parent
    default port = {{ control_netdata.port | default(19999) }}

    # Send charts labels to parent
    send charts matching = *

    # Buffer mode: none, some, or all
    buffer size bytes = 10485760

    # Reconnect interval when connection fails
    reconnect delay seconds = 5

    # Replication configuration
    initial replication = yes

    # Optional: Use SSL (set to yes if parent uses HTTPS)
    # ssl skip certificate verification = yes

# Stream reception is disabled on child nodes
# Uncomment if this node should also accept streams from other children
# [{{ control_netdata.stream_api_key | default('11111111-2222-3333-4444-555555555555') }}]
#     enabled = no
