---
# Uptime Kuma role defaults (Control Node only)

# Master toggle (from control_uptime_kuma config)
uptime_kuma_enabled: "{{ control_uptime_kuma.enabled | default(true) }}"

# Skip actual Docker deployment (for molecule testing)
uptime_kuma_skip_deploy: false

# Container settings
uptime_kuma_container_name: "uptime-kuma"
uptime_kuma_image: "louislam/uptime-kuma"
uptime_kuma_image_tag: "{{ control_uptime_kuma.version | default('1') }}"

# Stack directory (Dockge compatible)
uptime_kuma_stack_dir: "/opt/stacks/uptime-kuma"

# Network port (from control_uptime_kuma config)
uptime_kuma_port: "{{ control_uptime_kuma.port | default(3001) }}"

# Data volume
uptime_kuma_data_dir: "{{ uptime_kuma_stack_dir }}/data"

# Resource limits
uptime_kuma_memory_limit: "512m"
uptime_kuma_cpu_limit: "1.0"

# Initial setup (first run only - configure in vault.yml)
# Note: These are only used during initial setup
uptime_kuma_admin_username: "{{ vault_uptime_kuma_credentials.username | default('admin') }}"
uptime_kuma_admin_password: "{{ vault_uptime_kuma_credentials.password | default('admin') }}"

# Push monitors for health checks
# These can be used by other services to report their status
uptime_kuma_push_monitors: []
# Example:
# uptime_kuma_push_monitors:
#   - name: "Netdata Health"
#     interval: 60
#   - name: "Backup Status"
#     interval: 86400

# Auto-create monitors for target nodes
uptime_kuma_auto_monitors_enabled: false
uptime_kuma_auto_monitors: []
# Example:
# uptime_kuma_auto_monitors:
#   - name: "{{ inventory_hostname }} SSH"
#     type: tcp
#     hostname: "{{ ansible_host }}"
#     port: 22
#   - name: "{{ inventory_hostname }} Ping"
#     type: ping
#     hostname: "{{ ansible_host }}"
