---
# Pi-hole role defaults (Control Node)

# Master toggle (from control_dns config)
pihole_enabled: "{{ control_dns.enabled | default(true) }}"

# Skip actual Docker deployment (for molecule testing)
pihole_skip_deploy: false

# Container settings
pihole_container_name: "pihole"
pihole_image: "pihole/pihole"
pihole_image_tag: "latest"

# Stack directory (Dockge compatible)
pihole_stack_dir: "/opt/stacks/pihole"

# Network configuration (from control_dns config)
pihole_dns_port: "{{ control_dns.dns_port | default(53) }}"
pihole_web_port: "{{ control_dns.pihole_port | default(8053) }}"

# Web interface password (set in vault.yml)
pihole_web_password: "{{ vault_pihole_password | default('admin') }}"

# Upstream DNS (when not using Unbound)
# Configure in group_vars/all.yml via target_dns.upstream_servers
pihole_upstream_dns: "{{ target_dns.upstream_servers | default(['1.1.1.1', '1.0.0.1']) }}"

# Unbound recursive resolver
pihole_unbound_enabled: true
pihole_unbound_image: "mvance/unbound"
pihole_unbound_image_tag: "latest"

# Network interface to bind to
pihole_interface: "eth0"

# DHCP settings (disabled by default)
pihole_dhcp_enabled: false
pihole_dhcp_start: ""
pihole_dhcp_end: ""
pihole_dhcp_router: ""
pihole_dhcp_leasetime: 24

# DNS settings
pihole_dns_bogus_priv: true
pihole_dns_fqdn_required: true
pihole_dnssec: true

# Query logging
pihole_query_logging: true

# Admin email (for notifications)
pihole_admin_email: ""

# Custom DNS records (local DNS)
# Default includes control node for service discovery
# Override in group_vars/all.yml to add more records
pihole_custom_dns_records:
  - hostname: "control.{{ target_domain | default('local') }}"
    ip: "{{ control_node_ip | default('localhost') }}"
# Add more records in group_vars/all.yml:
# pihole_custom_dns_records:
#   - hostname: "control.{{ target_domain }}"
#     ip: "{{ control_node_ip }}"
#   - hostname: "nas.{{ target_domain }}"
#     ip: "192.168.1.5"

# Custom CNAME records
pihole_custom_cname_records: []
# Example:
# pihole_custom_cname_records:
#   - hostname: "grafana.local"
#     target: "control.local"

# Blocklists (additional to defaults)
pihole_adlists: []
# Example:
# pihole_adlists:
#   - "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts"

# Whitelist domains
pihole_whitelist: []

# Regex whitelist
pihole_regex_whitelist: []

# Blacklist domains
pihole_blacklist: []

# Regex blacklist
pihole_regex_blacklist: []

# Temperature unit: c or f
pihole_temperature_unit: "c"

# Web UI theme: default-dark, default-light, lcars
pihole_web_theme: "default-dark"

# Resource limits
pihole_memory_limit: "256m"
pihole_unbound_memory_limit: "128m"
