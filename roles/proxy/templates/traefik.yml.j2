# Traefik Static Configuration
# Auto-generated by Server Helper

# =============================================================================
# GLOBAL
# =============================================================================
global:
  checkNewVersion: false
  sendAnonymousUsage: false

# =============================================================================
# API & DASHBOARD
# =============================================================================
{% if proxy_dashboard_enabled | bool %}
api:
  dashboard: true
{% if proxy_dashboard_insecure | bool %}
  insecure: true
{% else %}
  insecure: false
{% endif %}
{% endif %}

# =============================================================================
# ENTRYPOINTS
# =============================================================================
entryPoints:
  web:
    address: ":80"
{% if proxy_force_https | bool %}
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
          permanent: true
{% endif %}

  websecure:
    address: ":443"
    http:
      tls: {}

# =============================================================================
# PROVIDERS
# =============================================================================
providers:
  # Docker provider - auto-discover containers
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false
    network: {{ proxy_network_name }}

  # File provider - for dynamic configuration
  file:
    directory: /etc/traefik/dynamic
    watch: true

# =============================================================================
# LOGGING
# =============================================================================
log:
  level: {{ proxy_log_level }}
  format: json

accessLog:
  format: json
  bufferingSize: 100
