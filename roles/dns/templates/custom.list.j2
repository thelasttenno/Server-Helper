# Pi-hole Custom DNS Records
# Auto-generated by Ansible from service discovery
# Managed by Ansible - DO NOT EDIT MANUALLY

# Server hostname
{{ ansible_default_ipv4.address }} {{ hostname }}.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} {{ hostname }}

# Manually defined DNS records
{% for record in dns.custom_records | default([]) %}
{{ record.ip | default(ansible_default_ipv4.address) }} {{ record.domain }}
{% endfor %}

# Auto-discovered services
{% if dockge.enabled | default(false) %}
{{ ansible_default_ipv4.address }} dockge.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} dockge
{% endif %}

{% if netdata.enabled | default(false) %}
{{ ansible_default_ipv4.address }} netdata.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} netdata
{% endif %}

{% if uptime_kuma.enabled | default(false) %}
{{ ansible_default_ipv4.address }} uptime-kuma.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} uptime-kuma
{{ ansible_default_ipv4.address }} uptime.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} uptime
{% endif %}

{% if logging.grafana.enabled | default(false) %}
{{ ansible_default_ipv4.address }} grafana.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} grafana
{% endif %}

{% if logging.loki.enabled | default(false) %}
{{ ansible_default_ipv4.address }} loki.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} loki
{% endif %}

{% if authentik.enabled | default(false) %}
{{ ansible_default_ipv4.address }} authentik.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} authentik
{{ ansible_default_ipv4.address }} sso.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} sso
{% endif %}

{% if reverse_proxy.enabled | default(false) %}
{{ ansible_default_ipv4.address }} proxy.{{ dns.private_domain | default('internal') }}
{{ ansible_default_ipv4.address }} traefik.{{ dns.private_domain | default('internal') }}
{% endif %}

# Database services (if you add them later)
{% for db in dns.database_services | default([]) %}
{{ db.ip | default(ansible_default_ipv4.address) }} {{ db.name }}.{{ dns.private_domain | default('internal') }}
{{ db.ip | default(ansible_default_ipv4.address) }} {{ db.name }}
{% endfor %}

# Custom application services
{% for app in dns.application_services | default([]) %}
{{ app.ip | default(ansible_default_ipv4.address) }} {{ app.name }}.{{ dns.private_domain | default('internal') }}
{{ app.ip | default(ansible_default_ipv4.address) }} {{ app.name }}
{% endfor %}
